!function(t,P,S){"use strict";var p="ht",O=t[p],X=null,D=Math,e=D.abs,y=D.max,G=Number.MAX_VALUE,h=O.Default,M=h.getInternal(),g=h.clone,B=M.vec3TransformMat4,Q=[0,0],F=M.appendArray,N=function(){function H(s,L,V,i){if(s){var y=s[i];if(y){V.ignoreColor||(L.color=y.kd),!V.ignoreTransparent&&y.d>0&&y.d<1&&(L.transparent=!0,L.opacity=y.d);var z;if(!V.ignoreImage&&(z=y.map_kd)){z=z.split(" ");for(var J=-1,j=0;j<z.length;j++)"-o"===z[j]?(L.uvOffset=[parseFloat(z[j+1]),parseFloat(z[j+2])],j+=3,J=j):"-s"===z[j]&&(L.uvScale=[parseFloat(z[j+1]),parseFloat(z[j+2])],j+=3,J=j);L.image=(V.prefix||"")+z.splice(J+1).join(" ")}}}}var n=/v( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)/,E=/vt( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)/,z=/vn( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)( +[\d|\.|\+|\-|e|E]+| nan)/,P=/^[og]\s*(.+)?/,a=function(V,u){return u=parseInt(u),u>=0?V[u-1]:V[u+V.length]},o=function(K,n,r,I,x){if(K.lvs){var f=a(n,I),E=a(n,x),D=r.matrix,h=K.lvs;D?(F(h,B(g(f),D)),F(h,B(g(E),D))):(F(h,f),F(h,E))}},u=function(l,D,O,C,G,H){if(l.vs){var n=a(D,C),K=a(D,G),A=a(D,H),e=O.matrix,k=l.vs;if(O.flipFace){var y=K;K=A,A=y}e?(F(k,B(g(n),e)),F(k,B(g(K),e)),F(k,B(g(A),e))):(F(k,n),F(k,K),F(k,A))}},s=function(E,w,U,k,b,y){if(E.vs){var o=U.flipY,f=k===S?Q:a(w,k),r=b===S?Q:a(w,b),K=y===S?Q:a(w,y);if(U.flipFace){var N=r;r=K,K=N}E.uv.push(f[0],o?1-f[1]:f[1],r[0],o?1-r[1]:r[1],K[0],o?1-K[1]:K[1])}},Y=function(y,z,L,J,O,s){if(y.vs){var V=a(z,J),M=a(z,O),i=a(z,s),n=L.normalMatrix,d=y.ns;if(L.flipFace){var X=M;M=i,i=X}n?(F(d,B(g(V),n)),F(d,B(g(M),n)),F(d,B(g(i),n))):(F(d,V),F(d,M),F(d,i))}},C=function(W,j,n,u){for(var d=u.length-1,f=0;d>f;++f)o(W,j,n,u[f],u[f+1]);o(W,j,n,u[d],u[0])},K=function(x,k,l,z,J,U,c,X){var M=z&&z.length&&X;U[3]===S?(u(x,k,J,U[0],U[1],U[2]),c?s(x,l,J,c[0],c[1],c[2]):x.uv&&x.uv.length&&s(x,l,J),M&&Y(x,z,J,X[0],X[1],X[2])):(u(x,k,J,U[0],U[1],U[3]),u(x,k,J,U[1],U[2],U[3]),c?(s(x,l,J,c[0],c[1],c[3]),s(x,l,J,c[1],c[2],c[3])):x.uv&&x.uv.length&&(s(x,l,J),s(x,l,J)),M&&(Y(x,z,J,X[0],X[1],X[3]),Y(x,z,J,X[1],X[2],X[3])))},W=function(g,F,H,W){var Q,E,M,U,n,P,D,b,$=G,w=G,t=G,r=-G,R=-G,Y=-G;for(Q in g)for(P=g[Q].vs,b=P.length,E=0;b>E;E+=3)M=P[E+0],U=P[E+1],n=P[E+2],$>M&&($=M),w>U&&(w=U),t>n&&(t=n),M>r&&(r=M),U>R&&(R=U),n>Y&&(Y=n);var h;if(H){var J=$+(r-$)/2,d=w+(R-w)/2,S=t+(Y-t)/2;for(Q in g){for(P=g[Q].vs,b=P.length,E=0;b>E;E+=3)P[E+0]-=J,P[E+1]-=d,P[E+2]-=S;if(D=g[Q].lvs)for(b=D.length,E=0;b>E;E+=3)D[E+0]-=J,D[E+1]-=d,D[E+2]-=S}h=[J,d,S]}var c,l,o;H?(c=r-$,l=R-w,o=Y-t):(c=2*y(e($),e(r)),l=2*y(e(w),e(R)),o=2*y(e(t),e(Y))),0===c&&(c=Math.min(l,o)/1e3||.001),0===l&&(l=Math.min(c,o)/1e3||.001),0===o&&(o=Math.min(c,l)/1e3||.001),W.rawS3=[c,l,o];for(Q in g){if(P=g[Q].vs,D=g[Q].lvs,F){for(b=P.length,E=0;b>E;E+=3)c&&(P[E+0]/=c),l&&(P[E+1]/=l),o&&(P[E+2]/=o);if(D)for(b=D.length,E=0;b>E;E+=3)c&&(D[E+0]/=c),l&&(D[E+1]/=l),o&&(D[E+2]/=o);var B=g[Q].ns;if(B){b=B.length;var v=new O.Math.Vector3;for(E=0;b>E;E+=3)v.set(B[E+0]*c,B[E+1]*l,B[E+2]*o).normalize(),B[E+0]=v.x,B[E+1]=v.y,B[E+2]=v.z}}g[Q].rawS3=W.rawS3,h&&(g[Q].center=h)}};return function(L,Q,f){if(!L)return X;(M.isString(Q)||Q instanceof ArrayBuffer)&&(Q=A(Q)),f||(f={}),f.flipY==X&&(f.flipY=!0),(f.s3||f.r3||f.t3||f.mat)&&(f.matrix=M.createWorldMatrix(f.mat,f.s3,f.r3,f.rotationMode,f.t3));var Y,d,a,S,k=O.Style["wf.loadQuadWireframe"],j=[],y=[],i=f.ignoreNormal?X:[],Z=f.reverseFlipMtls,o={vs:[],uv:[],ns:i?[]:X},U={htdefault:o},T=new I(L),G="",s="";for(i&&f.matrix&&(f.normalMatrix=M.createNormalMatrix(f.matrix));null!=(d=T.stepNext());)if(d=d.trim(),0!==d.length&&"#"!==d.charAt(0))if(d.indexOf("\\")!==d.length-1){if(G&&(d=G+d,G=""),d.indexOf("#QNAN0")>=0&&(d=d.replace(/#QNAN0/gi,"0")),a=n.exec(d))j.push([parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3])]);else if(a=E.exec(d))y.push([parseFloat(a[1]),parseFloat(a[2])]);else if(i&&(a=z.exec(d)))f.flipFace?i.push([parseFloat(-a[1]),parseFloat(-a[2]),parseFloat(-a[3])]):i.push([parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3])]);else if("f"===d[0]){var D=d.split(/\s+/);if(D.length<4)continue;var x,Y,w,v=[],B=[],F=[];for(Y=1,w=D.length;w>Y;Y++)x=D[Y].split("/"),v.push(parseInt(x[0],10)),x.length>1&&x[1].length>0&&F.push(parseInt(x[1],10)),x.length>2&&x[2].length>0&&B.push(parseInt(x[2],10));for(Y=0,w=v.length-2;w>Y;Y++)K(o,j,y,i,f,[v[0],v[Y+1],v[Y+2]],F.length?[F[0],F[Y+1],F[Y+2]]:X,B.length?[B[0],B[Y+1],B[Y+2]]:X);k&&C(o,j,f,v)}else if(f.part&&null!==(a=P.exec(d)))s=(" "+a[0].substr(1).trim()).substr(1);else if(/^usemtl /.test(d)){S=d.substring(7).trim();var $=f.part?s+"_"+S:S;(o=U[$])||(o=U[$]={name:$,vs:[],uv:[],ns:i?[]:X,lvs:k?[]:X},f.ignoreMtls&&f.ignoreMtls.indexOf(S)>=0&&delete o.vs,(f.reverseFlip||"*"===Z||Z&&Z.indexOf(S)>=0)&&(o.reverseFlip=!0),H(Q,o,f,S))}}else G+=d.substring(0,d.length-1);var J=[];for(var g in U){var b=U[g].vs;if(b&&0!==b.length){var m=U[g].uv;if(m)for(var c=2*b.length/3-m.length;c-->0;)m.push(0)}else J.push(g)}J.forEach(function(o){delete U[o]}),W(U,f.cube,f.center,f);var l=f.shape3d;if(l){var r=[];for(var S in U){var o=U[S];r.rawS3=o.rawS3,o.center&&(r.center=o.center),r.push(o)}h.setShape3dModel(l,r)}return U}}(),A=function(x){var q={};if(x)for(var i,g,m,J,G,j,$=new I(x),z=/\s+/;null!=(g=$.stepNext());)g=g.trim(),0!==g.length&&"#"!==g.charAt(0)&&(m=g.indexOf(" "),J=(m?g.substring(0,m):g).toLowerCase(),G=(m?g.substring(m+1):"").trim(),"newmtl"===J?q[G]=i={name:G}:i&&("ka"===J||"kd"===J||"ks"===J?(j=G.split(z,3),i[J]=[parseFloat(j[0]),parseFloat(j[1]),parseFloat(j[2]),1]):i[J]="ns"===J||"d"===J?parseFloat(G):G));return q},I=function(h){var R=this;if(h instanceof ArrayBuffer){R.isBuffer=!0;var s=0,d=new Uint8Array(h),t=d.length,U=d.length;R.stepNext=function(){for(var M,v,Z=s;t>s;)if(M=d[s],v=M>>4,12===v||13==v)s+=2;else if(14===v)s+=3;else if(s++,10===M)return String.fromCharCode.apply(null,d.subarray(Z,s));return s>Z?String.fromCharCode.apply(null,d.subarray(Z,s)):null}}else{R.isBuffer=!1;var A=h.split("\n"),S=0,U=A.length;R.stepNext=function(){return U>S?A[S++]:null}}};I.prototype={},I.prototype.constructor=I,M.addMethod(h,{loadObj:function(w,G,v){v=v||{};var u=!1;/(MSIE |Trident\/|Edge\/)/.test(t.navigator.userAgent)&&(u=!0);var R=function(f){var B,D=v.finishFunc,x=v.shape3d,K=f?N(f[0],f[1],v):null;if(K){if(x)B=h.getShape3dModel(x);else{B=[];for(var g in K){var U=K[g];B.rawS3=U.rawS3,B.push(U)}}D&&D(K,B,B.rawS3)}else D&&D(null)};if(u){v.responseType="arraybuffer";var I=function(Z){h.xhrLoad(w,function(e){R([e,Z])},v)};G?h.xhrLoad(G,function(i){I(i)},v):I()}else h.xhrLoad(G?[w,G]:[w],R,v)},parseObj:function(R,F,L){return N(R,F,L)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);